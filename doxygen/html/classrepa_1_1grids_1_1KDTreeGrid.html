<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Librepa: repa::grids::KDTreeGrid Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Librepa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacerepa.html">repa</a></li><li class="navelem"><b>grids</b></li><li class="navelem"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html">KDTreeGrid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classrepa_1_1grids_1_1KDTreeGrid-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">repa::grids::KDTreeGrid Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for repa::grids::KDTreeGrid:</div>
<div class="dyncontent">
<div class="center"><img src="classrepa_1_1grids_1_1KDTreeGrid__inherit__graph.png" border="0" usemap="#repa_1_1grids_1_1KDTreeGrid_inherit__map" alt="Inheritance graph"/></div>
<map name="repa_1_1grids_1_1KDTreeGrid_inherit__map" id="repa_1_1grids_1_1KDTreeGrid_inherit__map">
<area shape="rect" title=" " alt="" coords="13,80,173,107"/>
<area shape="rect" href="structrepa_1_1grids_1_1ParallelLCGrid.html" title="Interface for a parallel linked&#45;cell grid implementation." alt="" coords="5,5,180,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for repa::grids::KDTreeGrid:</div>
<div class="dyncontent">
<div class="center"><img src="classrepa_1_1grids_1_1KDTreeGrid__coll__graph.png" border="0" usemap="#repa_1_1grids_1_1KDTreeGrid_coll__map" alt="Collaboration graph"/></div>
<map name="repa_1_1grids_1_1KDTreeGrid_coll__map" id="repa_1_1grids_1_1KDTreeGrid_coll__map">
<area shape="rect" title=" " alt="" coords="13,261,173,288"/>
<area shape="rect" href="structrepa_1_1grids_1_1ParallelLCGrid.html" title="Interface for a parallel linked&#45;cell grid implementation." alt="" coords="5,185,180,212"/>
<area shape="rect" href="structrepa_1_1Vec.html" title="Behaves like a std::array." alt="" coords="29,96,156,123"/>
<area shape="rect" href="structrepa_1_1VecExpression.html" title=" " alt="" coords="18,5,167,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6740e59576019855076a62eb0763211d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a6740e59576019855076a62eb0763211d">Domain</a> = std::pair&lt; <a class="el" href="structrepa_1_1Vec.html">Vec3i</a>, <a class="el" href="structrepa_1_1Vec.html">Vec3i</a> &gt;</td></tr>
<tr class="memdesc:a6740e59576019855076a62eb0763211d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A domain is a 3d-box defined by a tuple of vectors for the lower corner and upper corner.  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#a6740e59576019855076a62eb0763211d">More...</a><br /></td></tr>
<tr class="separator:a6740e59576019855076a62eb0763211d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a28e1930846e562ca21153c0ec9ffd337"><td class="memItemLeft" align="right" valign="top"><a id="a28e1930846e562ca21153c0ec9ffd337"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>KDTreeGrid</b> (const boost::mpi::communicator &amp;comm, <a class="el" href="structrepa_1_1Vec.html">Vec3d</a> box_size, double min_cell_size)</td></tr>
<tr class="separator:a28e1930846e562ca21153c0ec9ffd337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7530512aed0d1010bb2e427d2a2339f9"><td class="memItemLeft" align="right" valign="top"><a id="a7530512aed0d1010bb2e427d2a2339f9"></a>
virtual <a class="el" href="structrepa_1_1util_1_1span.html">util::const_span</a>&lt; <a class="el" href="namespacerepa.html#a75d2e475d3366f2f02cee0f46e4e1f86">rank_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a7530512aed0d1010bb2e427d2a2339f9">neighbor_ranks</a> () const override</td></tr>
<tr class="memdesc:a7530512aed0d1010bb2e427d2a2339f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a span/range of ranks of all neighbor processes. <br /></td></tr>
<tr class="separator:a7530512aed0d1010bb2e427d2a2339f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c16e09416fab3ee0ea5d2529fd2e698"><td class="memItemLeft" align="right" valign="top"><a id="a3c16e09416fab3ee0ea5d2529fd2e698"></a>
virtual <a class="el" href="structrepa_1_1Vec.html">Vec3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a3c16e09416fab3ee0ea5d2529fd2e698">cell_size</a> () const override</td></tr>
<tr class="memdesc:a3c16e09416fab3ee0ea5d2529fd2e698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the cell sizes of Linked Cell grid. <br /></td></tr>
<tr class="separator:a3c16e09416fab3ee0ea5d2529fd2e698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63c5821c0b3ea724a9a879d74fd5331"><td class="memItemLeft" align="right" valign="top"><a id="aa63c5821c0b3ea724a9a879d74fd5331"></a>
virtual <a class="el" href="structrepa_1_1Vec.html">Vec3i</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#aa63c5821c0b3ea724a9a879d74fd5331">grid_size</a> () const override</td></tr>
<tr class="memdesc:aa63c5821c0b3ea724a9a879d74fd5331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of grid cells in total in each direction. <br /></td></tr>
<tr class="separator:aa63c5821c0b3ea724a9a879d74fd5331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac0829bf5671eb6f7badf9645fa5a40"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacerepa.html#acbb52719ba0ce65c10b3ddf9611584f7">local_or_ghost_cell_index_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#adac0829bf5671eb6f7badf9645fa5a40">cell_neighbor_index</a> (<a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a> cellidx, <a class="el" href="structrepa_1_1IntegralRange.html">fs_neighidx</a> neigh) override</td></tr>
<tr class="memdesc:adac0829bf5671eb6f7badf9645fa5a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of a cell neighboring a given cell (by index).  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#adac0829bf5671eb6f7badf9645fa5a40">More...</a><br /></td></tr>
<tr class="separator:adac0829bf5671eb6f7badf9645fa5a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6cb0aee94d404f57374823992ef9cf"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structrepa_1_1util_1_1span.html">util::const_span</a>&lt; <a class="el" href="structrepa_1_1grids_1_1GhostExchangeDesc.html">GhostExchangeDesc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a7d6cb0aee94d404f57374823992ef9cf">get_boundary_info</a> () override</td></tr>
<tr class="memdesc:a7d6cb0aee94d404f57374823992ef9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ghost exchange info.  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#a7d6cb0aee94d404f57374823992ef9cf">More...</a><br /></td></tr>
<tr class="separator:a7d6cb0aee94d404f57374823992ef9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec65fc80f75f897ca0f7a99a8c80809"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a1ec65fc80f75f897ca0f7a99a8c80809">position_to_cell_index</a> (<a class="el" href="structrepa_1_1Vec.html">Vec3d</a> pos) override</td></tr>
<tr class="memdesc:a1ec65fc80f75f897ca0f7a99a8c80809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of a local cell at position "pos".  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#a1ec65fc80f75f897ca0f7a99a8c80809">More...</a><br /></td></tr>
<tr class="separator:a1ec65fc80f75f897ca0f7a99a8c80809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d174493bc3c9fed7a588af841fb228c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacerepa.html#a75d2e475d3366f2f02cee0f46e4e1f86">rank_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a6d174493bc3c9fed7a588af841fb228c">position_to_rank</a> (<a class="el" href="structrepa_1_1Vec.html">Vec3d</a> pos) override</td></tr>
<tr class="memdesc:a6d174493bc3c9fed7a588af841fb228c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the rank of the process which is responsible for the cell at position "pos".  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#a6d174493bc3c9fed7a588af841fb228c">More...</a><br /></td></tr>
<tr class="separator:a6d174493bc3c9fed7a588af841fb228c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d058be25e14ab39f5512b025e0e54d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#ab3d058be25e14ab39f5512b025e0e54d">repartition</a> (CellMetric m, CellCellMetric ccm, Thunk cb) override</td></tr>
<tr class="memdesc:ab3d058be25e14ab39f5512b025e0e54d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>Maybe</em> repartitions the grid.  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#ab3d058be25e14ab39f5512b025e0e54d">More...</a><br /></td></tr>
<tr class="separator:ab3d058be25e14ab39f5512b025e0e54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8016a0ca16923cdff13d18e4b2332b4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacerepa.html#aadf18d98da41914f70acd3c92197d38d">global_cell_index_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a8016a0ca16923cdff13d18e4b2332b4d">global_hash</a> (<a class="el" href="namespacerepa.html#acbb52719ba0ce65c10b3ddf9611584f7">local_or_ghost_cell_index_type</a> cellidx) override</td></tr>
<tr class="memdesc:a8016a0ca16923cdff13d18e4b2332b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a globally unique id for a local cell.  <a href="classrepa_1_1grids_1_1KDTreeGrid.html#a8016a0ca16923cdff13d18e4b2332b4d">More...</a><br /></td></tr>
<tr class="separator:a8016a0ca16923cdff13d18e4b2332b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structrepa_1_1grids_1_1ParallelLCGrid')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html">repa::grids::ParallelLCGrid</a></td></tr>
<tr class="memitem:aee8a9b9e1cde3e0788670cbf24c62bcf inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#aee8a9b9e1cde3e0788670cbf24c62bcf">ParallelLCGrid</a> (const boost::mpi::communicator &amp;comm, <a class="el" href="structrepa_1_1Vec.html">Vec3d</a> box_size, double min_cell_size)</td></tr>
<tr class="separator:aee8a9b9e1cde3e0788670cbf24c62bcf inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4521c197a220131b808cbbc411f1be2 inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="ad4521c197a220131b808cbbc411f1be2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>after_construction</b> ()</td></tr>
<tr class="separator:ad4521c197a220131b808cbbc411f1be2 inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab342f96fcd6c190815b4781b1666c4d inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="aab342f96fcd6c190815b4781b1666c4d"></a>
<a class="el" href="namespacerepa.html#a325ecd32d9c4cd3c6cc9f499ab2b64f4">cell_range</a>&lt; <a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#aab342f96fcd6c190815b4781b1666c4d">local_cells</a> () const</td></tr>
<tr class="memdesc:aab342f96fcd6c190815b4781b1666c4d inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the range of local cells. <br /></td></tr>
<tr class="separator:aab342f96fcd6c190815b4781b1666c4d inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49dd921d70bd986c48fb542e9ab591b inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="ab49dd921d70bd986c48fb542e9ab591b"></a>
<a class="el" href="namespacerepa.html#a325ecd32d9c4cd3c6cc9f499ab2b64f4">cell_range</a>&lt; <a class="el" href="namespacerepa.html#a936cbf82bd83c551d67be119bf5381fd">ghost_cell_index_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#ab49dd921d70bd986c48fb542e9ab591b">ghost_cells</a> () const</td></tr>
<tr class="memdesc:ab49dd921d70bd986c48fb542e9ab591b inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the range of ghost cells. <br /></td></tr>
<tr class="separator:ab49dd921d70bd986c48fb542e9ab591b inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfaf8067cb1cff4232a1adc0662a0cb inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a9bfaf8067cb1cff4232a1adc0662a0cb">command</a> (std::string s)</td></tr>
<tr class="memdesc:a9bfaf8067cb1cff4232a1adc0662a0cb inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deliver implementation-defined commands to the partitioner.  <a href="structrepa_1_1grids_1_1ParallelLCGrid.html#a9bfaf8067cb1cff4232a1adc0662a0cb">More...</a><br /></td></tr>
<tr class="separator:a9bfaf8067cb1cff4232a1adc0662a0cb inherit pub_methods_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4653bbc23449b6357dc572bc33287fb0"><td class="memItemLeft" align="right" valign="top"><a id="a4653bbc23449b6357dc572bc33287fb0"></a>
virtual <a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a4653bbc23449b6357dc572bc33287fb0">n_local_cells</a> () const override</td></tr>
<tr class="memdesc:a4653bbc23449b6357dc572bc33287fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of local cells. <br /></td></tr>
<tr class="separator:a4653bbc23449b6357dc572bc33287fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ebdd09f554beaa66c356e172585db3"><td class="memItemLeft" align="right" valign="top"><a id="af9ebdd09f554beaa66c356e172585db3"></a>
virtual <a class="el" href="namespacerepa.html#a936cbf82bd83c551d67be119bf5381fd">ghost_cell_index_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#af9ebdd09f554beaa66c356e172585db3">n_ghost_cells</a> () const override</td></tr>
<tr class="memdesc:af9ebdd09f554beaa66c356e172585db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of ghost cells. <br /></td></tr>
<tr class="separator:af9ebdd09f554beaa66c356e172585db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html">repa::grids::ParallelLCGrid</a></td></tr>
<tr class="memitem:a09af5c9305779a7d62d7130f09a6e09a inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="a09af5c9305779a7d62d7130f09a6e09a"></a>
const boost::mpi::communicator&#160;</td><td class="memItemRight" valign="bottom"><b>comm</b></td></tr>
<tr class="separator:a09af5c9305779a7d62d7130f09a6e09a inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117858fc046debd63566f620884fb011 inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="a117858fc046debd63566f620884fb011"></a>
const boost::mpi::communicator&#160;</td><td class="memItemRight" valign="bottom"><b>comm_cart</b></td></tr>
<tr class="separator:a117858fc046debd63566f620884fb011 inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb987f6b111b1a7bd410de956b0358a inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="a0cb987f6b111b1a7bd410de956b0358a"></a>
const <a class="el" href="structrepa_1_1Vec.html">Vec3d</a>&#160;</td><td class="memItemRight" valign="bottom"><b>box_size</b></td></tr>
<tr class="separator:a0cb987f6b111b1a7bd410de956b0358a inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab921c0960caf063b6b6a9586d30fe4d3 inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memItemLeft" align="right" valign="top"><a id="ab921c0960caf063b6b6a9586d30fe4d3"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><b>min_cell_size</b></td></tr>
<tr class="separator:ab921c0960caf063b6b6a9586d30fe4d3 inherit pro_attribs_structrepa_1_1grids_1_1ParallelLCGrid"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6740e59576019855076a62eb0763211d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6740e59576019855076a62eb0763211d">&#9670;&nbsp;</a></span>Domain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#a6740e59576019855076a62eb0763211d">repa::grids::KDTreeGrid::Domain</a> =  std::pair&lt;<a class="el" href="structrepa_1_1Vec.html">Vec3i</a>, <a class="el" href="structrepa_1_1Vec.html">Vec3i</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A domain is a 3d-box defined by a tuple of vectors for the lower corner and upper corner. </p>
<p>While the domain includes the coordinate of the lower corner, it excludes the coordinate of the upper corner. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adac0829bf5671eb6f7badf9645fa5a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac0829bf5671eb6f7badf9645fa5a40">&#9670;&nbsp;</a></span>cell_neighbor_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacerepa.html#acbb52719ba0ce65c10b3ddf9611584f7">local_or_ghost_cell_index_type</a> repa::grids::KDTreeGrid::cell_neighbor_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a>&#160;</td>
          <td class="paramname"><em>cellidx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrepa_1_1IntegralRange.html">fs_neighidx</a>&#160;</td>
          <td class="paramname"><em>neigh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of a cell neighboring a given cell (by index). </p>
<p>The neighbor can either be a local cell or a ghost cell.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if cellidx is not a valid local cell.</td></tr>
  </table>
  </dd>
</dl>
<p>Neighbor 0 is the cells itself, i.e. "cell_neighbor_index(c, 0) == c" Neighbors 1-13: Half shell neighborhood Neighbors 14-26: Rest of full shell neighborhood</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cellidx</td><td>Base cell </td></tr>
    <tr><td class="paramname">neigh</td><td>Neighbor </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a045508e0d26e677f310fd8c977af4fa3">repa::grids::ParallelLCGrid</a>.</p>

</div>
</div>
<a id="a7d6cb0aee94d404f57374823992ef9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6cb0aee94d404f57374823992ef9cf">&#9670;&nbsp;</a></span>get_boundary_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrepa_1_1util_1_1span.html">util::const_span</a>&lt; <a class="el" href="structrepa_1_1grids_1_1GhostExchangeDesc.html">GhostExchangeDesc</a> &gt; repa::grids::KDTreeGrid::get_boundary_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ghost exchange info. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrepa_1_1grids_1_1GhostExchangeDesc.html" title="Describes a ghost exchange process.">GhostExchangeDesc</a> </dd></dl>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a58f18af8edcb9af86e3db7d2ad6d22af">repa::grids::ParallelLCGrid</a>.</p>

</div>
</div>
<a id="a8016a0ca16923cdff13d18e4b2332b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8016a0ca16923cdff13d18e4b2332b4d">&#9670;&nbsp;</a></span>global_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacerepa.html#aadf18d98da41914f70acd3c92197d38d">global_cell_index_type</a> repa::grids::KDTreeGrid::global_hash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerepa.html#acbb52719ba0ce65c10b3ddf9611584f7">local_or_ghost_cell_index_type</a>&#160;</td>
          <td class="paramname"><em>cellidx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a globally unique id for a local cell. </p>
<p>This id is uniquely assigned to the global cell corresponding to a local one, i.e. two different processes will return the same global_hash if the (most likely different) local cellidxs correspond to the same global cell. If NDEBUG is set, additionally to the above stated semantics, this function is allowed to return constant 0.</p>
<p>This function is useful for testing purposes only. Use <em>only</em> if NDEBUG is <em>not</em> set. </p>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a0cfd3365a85cf585a9344e1fb1393996">repa::grids::ParallelLCGrid</a>.</p>

</div>
</div>
<a id="a1ec65fc80f75f897ca0f7a99a8c80809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec65fc80f75f897ca0f7a99a8c80809">&#9670;&nbsp;</a></span>position_to_cell_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacerepa.html#a796a8a617762ef02b6fcf5db7d7675ba">local_cell_index_type</a> repa::grids::KDTreeGrid::position_to_cell_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrepa_1_1Vec.html">Vec3d</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of a local cell at position "pos". </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if position is not in the local subdomain. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a5daabc8921e544b3613600ca32deba37">repa::grids::ParallelLCGrid</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classrepa_1_1grids_1_1KDTreeGrid_a1ec65fc80f75f897ca0f7a99a8c80809_cgraph.png" border="0" usemap="#classrepa_1_1grids_1_1KDTreeGrid_a1ec65fc80f75f897ca0f7a99a8c80809_cgraph" alt=""/></div>
<map name="classrepa_1_1grids_1_1KDTreeGrid_a1ec65fc80f75f897ca0f7a99a8c80809_cgraph" id="classrepa_1_1grids_1_1KDTreeGrid_a1ec65fc80f75f897ca0f7a99a8c80809_cgraph">
<area shape="rect" title="Returns the index of a local cell at position &quot;pos&quot;." alt="" coords="5,5,165,47"/>
<area shape="rect" href="classrepa_1_1grids_1_1KDTreeGrid.html#a6d174493bc3c9fed7a588af841fb228c" title="Returns the rank of the process which is responsible for the cell at position &quot;pos&quot;." alt="" coords="213,5,373,47"/>
</map>
</div>

</div>
</div>
<a id="a6d174493bc3c9fed7a588af841fb228c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d174493bc3c9fed7a588af841fb228c">&#9670;&nbsp;</a></span>position_to_rank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacerepa.html#a75d2e475d3366f2f02cee0f46e4e1f86">rank_type</a> repa::grids::KDTreeGrid::position_to_rank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrepa_1_1Vec.html">Vec3d</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the rank of the process which is responsible for the cell at position "pos". </p>
<p>Before the first call to <a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#ab3d058be25e14ab39f5512b025e0e54d" title="Maybe repartitions the grid.">repartition()</a> is guaranteed to work for the whole domain! After the first <a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#ab3d058be25e14ab39f5512b025e0e54d" title="Maybe repartitions the grid.">repartition()</a> might only work for the process itself and its neighbors or its ghost layer.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if position cannot be resolved because the specific class supports resolving only its subdomain and ghost layer (see above). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#a16721963defda907a3b04c8bccc66436">repa::grids::ParallelLCGrid</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classrepa_1_1grids_1_1KDTreeGrid_a6d174493bc3c9fed7a588af841fb228c_icgraph.png" border="0" usemap="#classrepa_1_1grids_1_1KDTreeGrid_a6d174493bc3c9fed7a588af841fb228c_icgraph" alt=""/></div>
<map name="classrepa_1_1grids_1_1KDTreeGrid_a6d174493bc3c9fed7a588af841fb228c_icgraph" id="classrepa_1_1grids_1_1KDTreeGrid_a6d174493bc3c9fed7a588af841fb228c_icgraph">
<area shape="rect" title="Returns the rank of the process which is responsible for the cell at position &quot;pos&quot;." alt="" coords="213,5,373,47"/>
<area shape="rect" href="classrepa_1_1grids_1_1KDTreeGrid.html#a1ec65fc80f75f897ca0f7a99a8c80809" title="Returns the index of a local cell at position &quot;pos&quot;." alt="" coords="5,5,165,47"/>
</map>
</div>

</div>
</div>
<a id="ab3d058be25e14ab39f5512b025e0e54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d058be25e14ab39f5512b025e0e54d">&#9670;&nbsp;</a></span>repartition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool repa::grids::KDTreeGrid::repartition </td>
          <td>(</td>
          <td class="paramtype">CellMetric&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CellCellMetric&#160;</td>
          <td class="paramname"><em>ccm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Thunk&#160;</td>
          <td class="paramname"><em>exchange_start_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><em>Maybe</em> repartitions the grid. </p>
<p>Returns true if grid has been changed (repartitioned). This means all data of this class is invalidated. If false is returned, <em>no</em> data returned since the last call to <a class="el" href="classrepa_1_1grids_1_1KDTreeGrid.html#ab3d058be25e14ab39f5512b025e0e54d" title="Maybe repartitions the grid.">repartition()</a> is invalidated.</p>
<p>The data invalidation includes cell indices. These silently get a new meaning (underlying global cell index).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exchange_start_callback</td><td>is a function with no arguments which starts the data migration. This function is only called if the return value is "true". Also, it is called as soon as "position_to_rank" can safely be called. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="structrepa_1_1grids_1_1ParallelLCGrid.html#aabab09295f9bed8d530b23889abe6562">repa::grids::ParallelLCGrid</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classrepa_1_1grids_1_1KDTreeGrid_ab3d058be25e14ab39f5512b025e0e54d_cgraph.png" border="0" usemap="#classrepa_1_1grids_1_1KDTreeGrid_ab3d058be25e14ab39f5512b025e0e54d_cgraph" alt=""/></div>
<map name="classrepa_1_1grids_1_1KDTreeGrid_ab3d058be25e14ab39f5512b025e0e54d_cgraph" id="classrepa_1_1grids_1_1KDTreeGrid_ab3d058be25e14ab39f5512b025e0e54d_cgraph">
<area shape="rect" title="Maybe repartitions the grid." alt="" coords="5,5,165,47"/>
<area shape="rect" href="structrepa_1_1grids_1_1ParallelLCGrid.html#aab342f96fcd6c190815b4781b1666c4d" title="Returns the range of local cells." alt="" coords="213,5,388,47"/>
<area shape="rect" href="structrepa_1_1grids_1_1ParallelLCGrid.html#ae158da69087c05fef19a7fbeb6de7465" title="Returns the number of local cells." alt="" coords="436,5,611,47"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>repa/grids/<a class="el" href="kd__tree_8hpp_source.html">kd_tree.hpp</a></li>
<li>repa/grids/kd_tree.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
